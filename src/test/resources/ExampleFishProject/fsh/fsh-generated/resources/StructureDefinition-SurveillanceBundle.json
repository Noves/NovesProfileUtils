{
  "resourceType": "StructureDefinition",
  "id": "SurveillanceBundle",
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-category",
      "valueString": "Foundation.Other"
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-security-category",
      "valueCode": "not-classified"
    }
  ],
  "url": "https://are.surveillance.noves.de/fhir/StructureDefinition/SurveillanceBundle",
  "version": "0.1.0",
  "name": "SurveillanceBundle",
  "title": "Surveillancemeldevorgang",
  "status": "active",
  "date": "2022-08-24",
  "description": "Der Meldevorgang bildet den Container für Surveillancemeldungen und die darin referenzierten Ressourcen.",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Bundle",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Bundle",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Bundle.identifier",
        "path": "Bundle.identifier",
        "short": "Identifier für den Meldevorgang",
        "definition": "Der Identifier für den Meldevorgang ist als uuidv4 in value und unter der Verwendung der NotificationBundleId (https://demis.rki.de/fhir/NamingSystem/NotificationBundleId) in system anzugeben. Dabei ist zu beachten, dass der gesetzte Wert durch die Infrastruktur verworfen und neu generiert wird.",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Bundle.identifier.system",
        "path": "Bundle.identifier.system",
        "min": 1
      },
      {
        "id": "Bundle.identifier.value",
        "path": "Bundle.identifier.value",
        "short": "uuidv4",
        "definition": "uuidv4",
        "min": 1
      },
      {
        "id": "Bundle.type",
        "path": "Bundle.type",
        "short": "Typ der Bundle-Ressource.",
        "definition": "Typ der Bundle-Ressource. Für DEMIS ist der Typ grundsätzlich mit dem Wert „document“ aus dem referenzierten ValueSet (http://hl7.org/fhir/ValueSet/bundle-type|4.0.0) zu belegen.",
        "fixedCode": "document"
      },
      {
        "id": "Bundle.entry",
        "path": "Bundle.entry",
        "slicing": {
          "discriminator": [
            {
              "type": "type",
              "path": "resource"
            }
          ],
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Bundle.entry:notification",
        "path": "Bundle.entry",
        "sliceName": "notification",
        "short": "Enthaltene Meldungen.",
        "definition": "Enthaltene Meldungen. In einem Meldevorgang können mehrere Meldungen übermittelt werden. Dies trifft nicht auf jede Art von Meldevorgang zu und wird in abgeleiteten Profilen ggf. eingeschränkt. Ebenso wird der Typ der zu übermittelnden Meldung in den abgeleiteten Profilen vorgegeben.",
        "min": 1,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Bundle.entry:notification.resource",
        "path": "Bundle.entry.resource",
        "short": "Enthält die Meldung",
        "definition": "Enthält die Meldung. In davon abgeleiteten Profilen ist die Meldung vom erlaubten Typ enthalten.",
        "min": 1,
        "type": [
          {
            "code": "Composition",
            "profile": [
              "https://are.surveillance.noves.de/fhir/StructureDefinition/SurveillanceNotification"
            ]
          }
        ]
      }
    ]
  }
}
